{
   "chainServiceHandlers": [],
   "chains": [
      {
         "id": 1,
         "name": "GAImportChain",
         "class": "edu.usf.RuleChains.Chain",
         "links": [
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 12,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 6,
                  "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                  "name": "IntializeGACountiesTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 1,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 13,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 7,
                  "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                  "name": "PopulateGACountiesTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 2,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 14,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 8,
                  "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                  "name": "InitializeGAVotersTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 3,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "RECORDSET",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 15,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 15,
                  "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                  "name": "GA_Voter_zipToTextFragments",
                  "class": "edu.usf.RuleChains.Groovy",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.Groovy"
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 4,
               "linkEnum": {
                  "name": "LOOP",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 17,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 14,
                  "rule": "DROP TABLE IF EXISTS `Voters_import`",
                  "name": "DropGAVotersImportTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 5,
               "linkEnum": {
                  "name": "NEXT",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 11,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 11,
                  "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                  "name": "InitializeGAVotersImportTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 6,
               "linkEnum": {
                  "name": "NEXT",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 28,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 10,
                  "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                  "name": "LoadGAData",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 7,
               "linkEnum": {
                  "name": "NEXT",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 29,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 13,
                  "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                  "name": "MergeGAVoters",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 8,
               "linkEnum": {
                  "name": "NEXT",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 30,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 14,
                  "rule": "DROP TABLE IF EXISTS `Voters_import`",
                  "name": "DropGAVotersImportTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 9,
               "linkEnum": {
                  "name": "NEXT",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 31,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 5,
                  "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                  "name": "RemoveGATempText",
                  "class": "edu.usf.RuleChains.Groovy",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.Groovy"
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "EXECUTE_USING_ROW",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 10,
               "linkEnum": {
                  "name": "ENDLOOP",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            }
         ]
      },
      {
         "id": 2,
         "name": "GAImportChainTiny",
         "class": "edu.usf.RuleChains.Chain",
         "links": [{
            "resultEnum": {
               "name": "ROW",
               "enumType": "edu.usf.RuleChains.ResultEnum"
            },
            "id": 3,
            "inputReorder": "",
            "chain": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.Chain"
            },
            "sourceName": "gpga",
            "rule": {
               "id": 3,
               "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
               "name": "GA_Voter_zipToDatabase",
               "class": "edu.usf.RuleChains.Groovy",
               "ruleSet": {
                  "id": 1,
                  "name": "GeorgiaVoters",
                  "class": "edu.usf.RuleChains.RuleSet",
                  "rules": [
                     {
                        "id": 4,
                        "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                        "name": "GA_Voter_zipToInserts",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 7,
                        "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                        "name": "PopulateGACountiesTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 6,
                        "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                        "name": "IntializeGACountiesTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 14,
                        "rule": "DROP TABLE IF EXISTS `Voters_import`",
                        "name": "DropGAVotersImportTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 10,
                        "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                        "name": "LoadGAData",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "_ref": "../..",
                        "class": "edu.usf.RuleChains.Groovy"
                     },
                     {
                        "id": 11,
                        "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                        "name": "InitializeGAVotersImportTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 2,
                        "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                        "name": "GA_Voter_zipToText",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 9,
                        "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                        "name": "RemoveGAImportArtefacts",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 12,
                        "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                        "name": "GA_Voter_zipToTextFragmentsOld",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 8,
                        "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                        "name": "InitializeGAVotersTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 15,
                        "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                        "name": "GA_Voter_zipToTextFragments",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 1,
                        "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                        "name": "ImportGAfromText",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 5,
                        "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                        "name": "RemoveGATempText",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 13,
                        "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                        "name": "MergeGAVoters",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     }
                  ]
               }
            },
            "class": "edu.usf.RuleChains.Link",
            "executeEnum": {
               "name": "NORMAL",
               "enumType": "edu.usf.RuleChains.ExecuteEnum"
            },
            "outputReorder": "",
            "sequenceNumber": 1,
            "linkEnum": {
               "name": "NONE",
               "enumType": "edu.usf.RuleChains.LinkEnum"
            }
         }]
      },
      {
         "id": 3,
         "name": "GAImportChainImports",
         "class": "edu.usf.RuleChains.Chain",
         "links": [{
            "resultEnum": {
               "name": "NONE",
               "enumType": "edu.usf.RuleChains.ResultEnum"
            },
            "id": 4,
            "inputReorder": "",
            "chain": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.Chain"
            },
            "sourceName": "gpga",
            "rule": {
               "id": 4,
               "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
               "name": "GA_Voter_zipToInserts",
               "class": "edu.usf.RuleChains.Groovy",
               "ruleSet": {
                  "id": 1,
                  "name": "GeorgiaVoters",
                  "class": "edu.usf.RuleChains.RuleSet",
                  "rules": [
                     {
                        "_ref": "../..",
                        "class": "edu.usf.RuleChains.Groovy"
                     },
                     {
                        "id": 7,
                        "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                        "name": "PopulateGACountiesTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 6,
                        "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                        "name": "IntializeGACountiesTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 14,
                        "rule": "DROP TABLE IF EXISTS `Voters_import`",
                        "name": "DropGAVotersImportTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 10,
                        "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                        "name": "LoadGAData",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 3,
                        "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                        "name": "GA_Voter_zipToDatabase",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 11,
                        "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                        "name": "InitializeGAVotersImportTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 2,
                        "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                        "name": "GA_Voter_zipToText",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 9,
                        "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                        "name": "RemoveGAImportArtefacts",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 12,
                        "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                        "name": "GA_Voter_zipToTextFragmentsOld",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 8,
                        "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                        "name": "InitializeGAVotersTable",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 15,
                        "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                        "name": "GA_Voter_zipToTextFragments",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 1,
                        "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                        "name": "ImportGAfromText",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 5,
                        "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                        "name": "RemoveGATempText",
                        "class": "edu.usf.RuleChains.Groovy",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     },
                     {
                        "id": 13,
                        "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                        "name": "MergeGAVoters",
                        "class": "edu.usf.RuleChains.SQLQuery",
                        "ruleSet": {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.RuleSet"
                        }
                     }
                  ]
               }
            },
            "class": "edu.usf.RuleChains.Link",
            "executeEnum": {
               "name": "NORMAL",
               "enumType": "edu.usf.RuleChains.ExecuteEnum"
            },
            "outputReorder": "",
            "sequenceNumber": 1,
            "linkEnum": {
               "name": "NONE",
               "enumType": "edu.usf.RuleChains.LinkEnum"
            }
         }]
      },
      {
         "id": 4,
         "name": "GAImportChainOld",
         "class": "edu.usf.RuleChains.Chain",
         "links": [
            {
               "resultEnum": {
                  "name": "ROW",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 5,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 2,
                  "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                  "name": "GA_Voter_zipToText",
                  "class": "edu.usf.RuleChains.Groovy",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.Groovy"
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 1,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 6,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 1,
                  "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                  "name": "ImportGAfromText",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 2,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            }
         ]
      },
      {
         "id": 5,
         "name": "GAImportChainLong",
         "class": "edu.usf.RuleChains.Chain",
         "links": [
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 18,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 6,
                  "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                  "name": "IntializeGACountiesTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 1,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 19,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 7,
                  "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                  "name": "PopulateGACountiesTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 2,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 20,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 8,
                  "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                  "name": "InitializeGAVotersTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 3,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 21,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 14,
                  "rule": "DROP TABLE IF EXISTS `Voters_import`",
                  "name": "DropGAVotersImportTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 4,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 22,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 11,
                  "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                  "name": "InitializeGAVotersImportTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 5,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "ROW",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 23,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 2,
                  "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                  "name": "GA_Voter_zipToText",
                  "class": "edu.usf.RuleChains.Groovy",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.Groovy"
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 6,
               "linkEnum": {
                  "name": "NONE",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 24,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 10,
                  "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                  "name": "LoadGAData",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 7,
               "linkEnum": {
                  "name": "NEXT",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 25,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 5,
                  "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                  "name": "RemoveGATempText",
                  "class": "edu.usf.RuleChains.Groovy",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.Groovy"
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 8,
               "linkEnum": {
                  "name": "NEXT",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 26,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 13,
                  "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                  "name": "MergeGAVoters",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 14,
                           "rule": "DROP TABLE IF EXISTS `Voters_import`",
                           "name": "DropGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 9,
               "linkEnum": {
                  "name": "NEXT",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            },
            {
               "resultEnum": {
                  "name": "UPDATE",
                  "enumType": "edu.usf.RuleChains.ResultEnum"
               },
               "id": 27,
               "inputReorder": "",
               "chain": {
                  "_ref": "../..",
                  "class": "edu.usf.RuleChains.Chain"
               },
               "sourceName": "gpga",
               "rule": {
                  "id": 14,
                  "rule": "DROP TABLE IF EXISTS `Voters_import`",
                  "name": "DropGAVotersImportTable",
                  "class": "edu.usf.RuleChains.SQLQuery",
                  "ruleSet": {
                     "id": 1,
                     "name": "GeorgiaVoters",
                     "class": "edu.usf.RuleChains.RuleSet",
                     "rules": [
                        {
                           "id": 4,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
                           "name": "GA_Voter_zipToInserts",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 7,
                           "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
                           "name": "PopulateGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 6,
                           "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "IntializeGACountiesTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "_ref": "../..",
                           "class": "edu.usf.RuleChains.SQLQuery"
                        },
                        {
                           "id": 10,
                           "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "LoadGAData",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 3,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToDatabase",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 11,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersImportTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 2,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
                           "name": "GA_Voter_zipToText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 9,
                           "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
                           "name": "RemoveGAImportArtefacts",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 12,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragmentsOld",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 8,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
                           "name": "InitializeGAVotersTable",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 15,
                           "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
                           "name": "GA_Voter_zipToTextFragments",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 1,
                           "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
                           "name": "ImportGAfromText",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 5,
                           "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
                           "name": "RemoveGATempText",
                           "class": "edu.usf.RuleChains.Groovy",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        },
                        {
                           "id": 13,
                           "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
                           "name": "MergeGAVoters",
                           "class": "edu.usf.RuleChains.SQLQuery",
                           "ruleSet": {
                              "_ref": "../..",
                              "class": "edu.usf.RuleChains.RuleSet"
                           }
                        }
                     ]
                  }
               },
               "class": "edu.usf.RuleChains.Link",
               "executeEnum": {
                  "name": "NORMAL",
                  "enumType": "edu.usf.RuleChains.ExecuteEnum"
               },
               "outputReorder": "",
               "sequenceNumber": 10,
               "linkEnum": {
                  "name": "NEXT",
                  "enumType": "edu.usf.RuleChains.LinkEnum"
               }
            }
         ]
      }
   ],
   "ruleSets": [{
      "id": 1,
      "name": "GeorgiaVoters",
      "class": "edu.usf.RuleChains.RuleSet",
      "rules": [
         {
            "id": 4,
            "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\nsql.withBatch(20, \"\"\"\nINSERT IGNORE INTO `Voters`\n(\n`CountyCode`,\n`RegistrationNbr`,\n`VoterStatus`,\n`VoterLastName`,\n`VoterFirstName`,\n`VoterMiddleMaiden`,\n`VoterNameSuffix`,\n`VoterNameTitle`,\n`ResHouseNbr`,\n`ResStreetName`,\n`ResStreetSuffix`,\n`ResAptUnitNbr`,\n`ResCityName`,\n`ResZip`,\n`ResZipPlus4`,\n`MidrFlag`,\n`PollWorker`,\n`TransactionCode`,\n`TransactionYearMonth`,\n`Filler1`,\n`DateOfBirth`,\n`RegistrationDate`,\n`Race`,\n`Gender`,\n`Absentee`,\n`LandDistrict`,\n`LandLot`,\n`OriginalRegDate`,\n`StatusReason`,\n`Filler2`,\n`CountyPrecinctId`,\n`CityPrecinctId`,\n`CongressionalDistrict`,\n`SenateDistrict`,\n`HouseDistrict`,\n`JudicialDistrict`,\n`CommDistrict`,\n`SchoolDistrict`,\n`CountyDistAName`,\n`CountyDistAValue`,\n`CountyDistBName`,\n`CountyDistBValue`,\n`MunicipalName`,\n`MunicipalCode`,\n`WardCityCouncilName`,\n`WardCityCouncil`,\n`CitySchoolDistName`,\n`CitySchoolDist`,\n`CityDistAName`,\n`CityDistAValue`,\n`CityDistBName`,\n`CityDistBValue`,\n`CityDistCName`,\n`CityDistCValue`,\n`CityDistDName`,\n`CityDistDValue`,\n`DateLastVotedDate`,\n`TypeOfElection`,\n`PartyLastVoted`,\n`LastContactDate`,\n`MailHouseNbr`,\n`MailStreetName`,\n`MailStreetSuffix`,\n`MailAptUnitNbr`,\n`MailCity`,\n`MailState`,\n`MailZip`,\n`MailZipPlus4`,\n`Filler3`,\n`MailAddress2`,\n`MailAddress3`,\n`MailCounty`,\n`DateAdded`,\n`DateChanged`,\n`DistrictCombo`,\n`ResBuilding`,\n`MailRRPOBox`,\n`CombinedStreetAddr`,\n`ExportDate`\n) \nVALUES \n(\nTRIM(SUBSTR(:line,1,3)),\nTRIM(SUBSTR(:line,4,8)),\nTRIM(SUBSTR(:line,12,1)),\nTRIM(SUBSTR(:line,13,20)),\nTRIM(SUBSTR(:line,33,20)),\nTRIM(SUBSTR(:line,53,20)),\nTRIM(SUBSTR(:line,73,3)),\nTRIM(SUBSTR(:line,76,3)),\nTRIM(SUBSTR(:line,79,6)),\nTRIM(SUBSTR(:line,85,30)),\nTRIM(SUBSTR(:line,115,2)),\nTRIM(SUBSTR(:line,117,8)),\nTRIM(SUBSTR(:line,125,17)),\nTRIM(SUBSTR(:line,142,5)),\nTRIM(SUBSTR(:line,147,4)),\nTRIM(SUBSTR(:line,151,1)),\nTRIM(SUBSTR(:line,152,1)),\nTRIM(SUBSTR(:line,153,1)),\nTRIM(SUBSTR(:line,154,6)),\nTRIM(SUBSTR(:line,160,2)),\nSTR_TO_DATE(SUBSTR(:line,162,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,170,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,178,1)),\nTRIM(SUBSTR(:line,179,1)),\nTRIM(SUBSTR(:line,180,1)),\nTRIM(SUBSTR(:line,181,3)),\nTRIM(SUBSTR(:line,184,4)),\nSTR_TO_DATE(SUBSTR(:line,188,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,196,9)),\nTRIM(SUBSTR(:line,205,5)),\nTRIM(SUBSTR(:line,210,5)),\nTRIM(SUBSTR(:line,215,5)),\nTRIM(SUBSTR(:line,220,3)),\nTRIM(SUBSTR(:line,223,3)),\nTRIM(SUBSTR(:line,226,3)),\nTRIM(SUBSTR(:line,229,3)),\nTRIM(SUBSTR(:line,232,3)),\nTRIM(SUBSTR(:line,235,3)),\nTRIM(SUBSTR(:line,238,13)),\nTRIM(SUBSTR(:line,251,3)),\nTRIM(SUBSTR(:line,254,13)),\nTRIM(SUBSTR(:line,267,3)),\nTRIM(SUBSTR(:line,270,17)),\nTRIM(SUBSTR(:line,287,3)),\nTRIM(SUBSTR(:line,290,13)),\nTRIM(SUBSTR(:line,303,3)),\nTRIM(SUBSTR(:line,306,13)),\nTRIM(SUBSTR(:line,319,3)),\nTRIM(SUBSTR(:line,322,13)),\nTRIM(SUBSTR(:line,335,3)),\nTRIM(SUBSTR(:line,338,13)),\nTRIM(SUBSTR(:line,351,3)),\nTRIM(SUBSTR(:line,354,13)),\nTRIM(SUBSTR(:line,367,3)),\nTRIM(SUBSTR(:line,370,13)),\nTRIM(SUBSTR(:line,383,3)),\nSTR_TO_DATE(SUBSTR(:line,386,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,394,3)),\nTRIM(SUBSTR(:line,397,1)),\nSTR_TO_DATE(SUBSTR(:line,398,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,406,6)),\nTRIM(SUBSTR(:line,412,30)),\nTRIM(SUBSTR(:line,442,2)),\nTRIM(SUBSTR(:line,444,8)),\nTRIM(SUBSTR(:line,452,17)),\nTRIM(SUBSTR(:line,469,2)),\nTRIM(SUBSTR(:line,471,5)),\nTRIM(SUBSTR(:line,476,4)),\nTRIM(SUBSTR(:line,480,2)),\nTRIM(SUBSTR(:line,482,30)),\nTRIM(SUBSTR(:line,512,30)),\nTRIM(SUBSTR(:line,542,20)),\nSTR_TO_DATE(SUBSTR(:line,562,8),'%Y%m%d'),\nSTR_TO_DATE(SUBSTR(:line,570,8),'%Y%m%d'),\nTRIM(SUBSTR(:line,578,3)),\nTRIM(SUBSTR(:line,581,3)),\nTRIM(SUBSTR(:line,584,8)),\nTRIM(SUBSTR(:line,592,60)),\nSTR_TO_DATE(:snapshotDate,'%Y%m%d')\n)\n\"\"\") { ps ->                 \n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tps.addBatch(line:line, snapshotDate:modificationTime)\n\t}\n}\nreturn [\n\tsnapshotDate: modificationTime\n]\n",
            "name": "GA_Voter_zipToInserts",
            "class": "edu.usf.RuleChains.Groovy",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 7,
            "rule": "INSERT IGNORE INTO `County Codes` \nVALUES \n('001', 'Appling'), \n('002', 'Atkinson'), \n('003', 'Bacon'), \n('004', 'Baker'), \n('005', 'Baldwin'), \n('006', 'Banks'), \n('007', 'Barrow'), \n('008', 'Bartow'), \n('009', 'Ben Hill'), \n('010', 'Berrien'), \n('011', 'Bibb'), \n('012', 'Bleckley'), \n('013', 'Brantley'), \n('014', 'Brooks'), \n('015', 'Bryan'), \n('016', 'Bulloch'), \n('017', 'Burke'), \n('018', 'Butts'), \n('019', 'Calhoun'), \n('020', 'Camden'), \n('021', 'Candler'), \n('022', 'Carroll'), \n('023', 'Catoosa'), \n('024', 'Charlton'), \n('025', 'Chatham'), \n('026', 'Chattahoochee'), \n('027', 'Chattooga'), \n('028', 'Cherokee'), \n('029', 'Clarke'), \n('030', 'Clay'), \n('031', 'Clayton'), \n('032', 'Clinch'), \n('033', 'Cobb'), \n('034', 'Coffee'), \n('035', 'Colquitt'), \n('036', 'Columbia'), \n('037', 'Cook'), \n('038', 'Coweta'), \n('039', 'Crawford'), \n('040', 'Crisp'), \n('041', 'Dade'), \n('042', 'Dawson'), \n('043', 'Decatur'), \n('044', 'DeKalb'), \n('045', 'Dodge'), \n('046', 'Dooly'), \n('047', 'Dougherty'), \n('048', 'Douglas'), \n('049', 'Early'), \n('050', 'Echols'), \n('051', 'Effingham'), \n('052', 'Elbert'), \n('053', 'Emanuel'), \n('054', 'Evans'), \n('055', 'Fannin'), \n('056', 'Fayette'), \n('057', 'Floyd'), \n('058', 'Forsyth'), \n('059', 'Franklin'), \n('060', 'Fulton'), \n('061', 'Gilmer'), \n('062', 'Glascock'), \n('063', 'Glynn'), \n('064', 'Gordon'), \n('065', 'Grady'), \n('066', 'Greene'), \n('067', 'Gwinnett'), \n('068', 'Habersham'), \n('069', 'Hall'), \n('070', 'Hancock'), \n('071', 'Haralson'), \n('072', 'Harris'), \n('073', 'Hart'), \n('074', 'Heard'), \n('075', 'Henry'), \n('076', 'Houston'), \n('077', 'Irwin'), \n('078', 'Jackson'), \n('079', 'Jasper'), \n('080', 'Jeff Davis'), \n('081', 'Jefferson'), \n('082', 'Jenkins'), \n('083', 'Johnson'), \n('084', 'Jones'), \n('085', 'Lamar'), \n('086', 'Lanier'), \n('087', 'Laurens'), \n('088', 'Lee'), \n('089', 'Liberty'), \n('090', 'Lincoln'), \n('091', 'Long'), \n('092', 'Lowndes'), \n('093', 'Lumpkin'), \n('094', 'Macon'), \n('095', 'Madison'), \n('096', 'Marion'), \n('097', 'McDuffie'), \n('098', 'McIntosh'), \n('099', 'Meriwether'), \n('100', 'Miller'), \n('101', 'Mitchell'), \n('102', 'Monroe'), \n('103', 'Montgomery'), \n('104', 'Morgan'), \n('105', 'Murray'), \n('106', 'Muscogee'), \n('107', 'Newton'), \n('108', 'Oconee'), \n('109', 'Oglethorpe'), \n('110', 'Paulding'), \n('111', 'Peach'), \n('112', 'Pickens'), \n('113', 'Pierce'), \n('114', 'Pike'), \n('115', 'Polk'), \n('116', 'Pulaski'), \n('117', 'Putnam'), \n('118', 'Quitman'), \n('119', 'Rabun'), \n('120', 'Randolph'), \n('121', 'Richmond'), \n('122', 'Rockdale'), \n('123', 'Schley'), \n('124', 'Screven'), \n('125', 'Seminole'), \n('126', 'Spalding'), \n('127', 'Stephens'), \n('128', 'Stewart'), \n('129', 'Sumter'), \n('130', 'Talbot'), \n('131', 'Taliaferro'), \n('132', 'Tattnall'), \n('133', 'Taylor'), \n('134', 'Telfair'), \n('135', 'Terrell'), \n('136', 'Thomas'), \n('137', 'Tift'), \n('138', 'Toombs'), \n('139', 'Towns'), \n('140', 'Treutlen'), \n('141', 'Troup'), \n('142', 'Turner'), \n('143', 'Twiggs'), \n('144', 'Union'), \n('145', 'Upson'), \n('146', 'Walker'), \n('147', 'Walton'), \n('148', 'Ware'), \n('149', 'Warren'), \n('150', 'Washington'), \n('151', 'Wayne'), \n('152', 'Webster'), \n('153', 'Wheeler'), \n('154', 'White'), \n('155', 'Whitfield'), \n('156', 'Wilcox'), \n('157', 'Wilkes'), \n('158', 'Wilkinson'), \n('159', 'Worth')\n",
            "name": "PopulateGACountiesTable",
            "class": "edu.usf.RuleChains.SQLQuery",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 6,
            "rule": "CREATE TABLE IF NOT EXISTS `County Codes` (\n  `County Code` char(3) COLLATE utf8_unicode_ci NOT NULL,\n  `County Description` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  PRIMARY KEY (`County Code`),\n  UNIQUE KEY `County Code` (`County Code`) USING BTREE,\n  UNIQUE KEY `County Description` (`County Description`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
            "name": "IntializeGACountiesTable",
            "class": "edu.usf.RuleChains.SQLQuery",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 14,
            "rule": "DROP TABLE IF EXISTS `Voters_import`",
            "name": "DropGAVotersImportTable",
            "class": "edu.usf.RuleChains.SQLQuery",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 10,
            "rule": "LOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `Voters_import`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\nSET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n`RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n`VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n`VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n`VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n`VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n`VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n`VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n`ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n`ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n`ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n`ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n`ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n`ResZip`=TRIM(SUBSTR(@var1,142,5)),\n`ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n`MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n`PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n`TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n`TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n`Filler1`=TRIM(SUBSTR(@var1,160,2)),\n`DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n`RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n`Race`=TRIM(SUBSTR(@var1,178,1)),\n`Gender`=TRIM(SUBSTR(@var1,179,1)),\n`Absentee`=TRIM(SUBSTR(@var1,180,1)),\n`LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n`LandLot`=TRIM(SUBSTR(@var1,184,4)),\n`OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n`StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n`Filler2`=TRIM(SUBSTR(@var1,205,5)),\n`CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n`CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n`CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n`SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n`HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n`JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n`CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n`SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n`CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n`CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n`CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n`CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n`MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n`MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n`WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n`WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n`CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n`CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n`CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n`CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n`CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n`CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n`CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n`CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n`CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n`CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n`DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n`TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n`PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n`LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n`MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n`MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n`MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n`MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n`MailCity`=TRIM(SUBSTR(@var1,452,17)),\n`MailState`=TRIM(SUBSTR(@var1,469,2)),\n`MailZip`=TRIM(SUBSTR(@var1,471,5)),\n`MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n`Filler3`=TRIM(SUBSTR(@var1,480,2)),\n`MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n`MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n`MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n`DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n`DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n`DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n`ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n`MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n`CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n`ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
            "name": "LoadGAData",
            "class": "edu.usf.RuleChains.SQLQuery",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 3,
            "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\ndef importSQL = \"\"\"\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA INFILE '${unparsedTextFile.canonicalPath}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\r\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${modificationTime}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n\n\n\"\"\"\nsql.execute(importSQL)\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
            "name": "GA_Voter_zipToDatabase",
            "class": "edu.usf.RuleChains.Groovy",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 11,
            "rule": "CREATE TABLE IF NOT EXISTS `Voters_import` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
            "name": "InitializeGAVotersImportTable",
            "class": "edu.usf.RuleChains.SQLQuery",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 2,
            "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\ndef voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef unparsedTextFile = File.createTempFile('temp', '.txt')\nunparsedTextFile.withWriter('unicode'){ w->\n\tdef reader = new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))\n\treader.eachLine { line -> \n\t\tw<< line\n\t}\n}\nprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\nreturn [\n\t[\n\t\timportFile: unparsedTextFile.canonicalPath,\n\t\tsnapshotDate: modificationTime\n\t]\n]\n",
            "name": "GA_Voter_zipToText",
            "class": "edu.usf.RuleChains.Groovy",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 9,
            "rule": "DELETE FROM `Voters` WHERE `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d')",
            "name": "RemoveGAImportArtefacts",
            "class": "edu.usf.RuleChains.SQLQuery",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 12,
            "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia',\n\tzipName: \"Georgia_Voters_Fixed.zip\",\n\tcompressedFile: 'DailyVoterBase_Fixed.txt'\n]\ndef zipFile = new java.util.zip.ZipFile(new File(settings.importFolder,settings.zipName))\n\n// def voterEntry = zipFile.entries().findAll { !it.directory }.find { it.name == settings.compressedFile }\ndef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\ndef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\nprintln \"${modificationTime} Mod Time\"\nprintln \"Entry is ${voterEntry.name}\"\n\ndef count = 0\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\ndef unparsedTextFile\ndef tempfiles = []\n(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\tif(count < 1) {\n\t\t// Create new tempfile\n\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\tfilecount++\n\t\ttempfiles << [\n\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\tsnapshotDate: modificationTime,\n\t\t\tfilecount: filecount\n\t\t]\n\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t}\n\tunparsedTextFile << \"$line$ln\"\n\tcount++\n\tif(count > 50000) {\n\t\tcount = 0\n\t}\n}\n\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
            "name": "GA_Voter_zipToTextFragmentsOld",
            "class": "edu.usf.RuleChains.Groovy",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 8,
            "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
            "name": "InitializeGAVotersTable",
            "class": "edu.usf.RuleChains.SQLQuery",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 15,
            "rule": "def settings = [\n\timportFolder: '/usr/share/tomcat/Voters/Georgia',\n\timportFolderMac: '/Applications/NetBeans/apache-tomcat-7.0.41/Voters/Georgia'\n]\ndef tempfiles = []\ndef filecount = 0\ndef ln = System.getProperty('line.separator')\nnew File(settings.importFolder).eachDirRecurse() { dir ->\n\tdir.eachFileMatch(~/.*.zip/) { file -> \n\t\tdef zipFile = new java.util.zip.ZipFile(file)\n\t\tdef voterEntry = zipFile.entries().findAll { !it.directory }.max { it.getSize() }\n\t\tdef modificationTime = (new Date(voterEntry.getTime())).format(\"yyyyMMdd\")\n\t\tprintln \"${modificationTime} Mod Time\"\n\t\tprintln \"Entry is ${voterEntry.name}\"\n\t\t\n\t\tdef count = 0\n\t\tdef unparsedTextFile\n\t\t(new BufferedReader(new InputStreamReader(zipFile.getInputStream(voterEntry), \"UTF-8\"))).eachLine { line ->\n\t\t\tif(count < 1) {\n\t\t\t\t// Create new tempfile\n\t\t\t\tunparsedTextFile = File.createTempFile('temp', '.txt')\n\t\t\t\tfilecount++\n\t\t\t\ttempfiles << [\n\t\t\t\t\timportFile: unparsedTextFile.canonicalPath,\n\t\t\t\t\tsnapshotDate: modificationTime,\n\t\t\t\t\tfilecount: filecount\n\t\t\t\t]\n\t\t\t\tprintln \"Temp file path: ${unparsedTextFile.canonicalPath}\"\n\t\t\t}\n\t\t\tunparsedTextFile << \"$line$ln\"\n\t\t\tcount++\n\t\t\tif(count > 50000) {\n\t\t\t\tcount = 0\n\t\t\t}\n\t\t}\n\t}\n}\t\n\t\nreturn tempfiles.collect { tf ->\n\ttf.total = filecount\n\treturn tf\n}",
            "name": "GA_Voter_zipToTextFragments",
            "class": "edu.usf.RuleChains.Groovy",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 1,
            "rule": "CREATE TABLE IF NOT EXISTS `Voters` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`,`ExportDate`),\n  KEY `CountyCode` (`CountyCode`),\n  KEY `RegistrationNbr` (`RegistrationNbr`),\n  KEY `VoterStatus` (`VoterStatus`),\n  KEY `VoterLastName` (`VoterLastName`),\n  KEY `VoterFirstName` (`VoterFirstName`),\n  KEY `VoterMiddleMaiden` (`VoterMiddleMaiden`),\n  KEY `VoterNameSuffix` (`VoterNameSuffix`),\n  KEY `VoterNameTitle` (`VoterNameTitle`),\n  KEY `ExportDate` (`ExportDate`),\n  KEY `ResHouseNbr` (`ResHouseNbr`),\n  KEY `ResStreetName` (`ResStreetName`),\n  KEY `ResStreetSuffix` (`ResStreetSuffix`),\n  KEY `ResAptUnitNbr` (`ResAptUnitNbr`),\n  KEY `ResCityName` (`ResCityName`),\n  KEY `ResZip` (`ResZip`),\n  KEY `ResZipPlus4` (`ResZipPlus4`),\n  KEY `DateOfBirth` (`DateOfBirth`),\n  KEY `Race` (`Race`),\n  KEY `Gender` (`Gender`),\n  KEY `Absentee` (`Absentee`),\n  KEY `CountyPrecinctId` (`CountyPrecinctId`),\n  KEY `CityPrecinctId` (`CityPrecinctId`),\n  KEY `CongressionalDistrict` (`CongressionalDistrict`),\n  KEY `SenateDistrict` (`SenateDistrict`),\n  KEY `HouseDistrict` (`HouseDistrict`),\n  KEY `JudicialDistrict` (`JudicialDistrict`),\n  KEY `CommDistrict` (`CommDistrict`),\n  KEY `SchoolDistrict` (`SchoolDistrict`),\n  KEY `CountyDistAName` (`CountyDistAName`),\n  KEY `CountyDistAValue` (`CountyDistAValue`),\n  KEY `CountyDistBName` (`CountyDistBName`),\n  KEY `CountyDistBValue` (`CountyDistBValue`),\n  KEY `MunicipalName` (`MunicipalName`),\n  KEY `MunicipalCode` (`MunicipalCode`),\n  KEY `WardCityCouncilName` (`WardCityCouncilName`),\n  KEY `WardCityCouncil` (`WardCityCouncil`),\n  KEY `CitySchoolDistName` (`CitySchoolDistName`),\n  KEY `CitySchoolDist` (`CitySchoolDist`),\n  KEY `CityDistAName` (`CityDistAName`),\n  KEY `CityDistAValue` (`CityDistAValue`),\n  KEY `CityDistBName` (`CityDistBName`),\n  KEY `CityDistBValue` (`CityDistBValue`),\n  KEY `CityDistCName` (`CityDistCName`),\n  KEY `CityDistCValue` (`CityDistCValue`),\n  KEY `CityDistDName` (`CityDistDName`),\n  KEY `CityDistDValue` (`CityDistDValue`),\n  KEY `DateLastVotedDate` (`DateLastVotedDate`),\n  KEY `TypeOfElection` (`TypeOfElection`),\n  KEY `PartyLastVoted` (`PartyLastVoted`),\n  KEY `MailHouseNbr` (`MailHouseNbr`),\n  KEY `MailStreetName` (`MailStreetName`),\n  KEY `MailStreetSuffix` (`MailStreetSuffix`),\n  KEY `MailAptUnitNbr` (`MailAptUnitNbr`),\n  KEY `MailCity` (`MailCity`),\n  KEY `MailState` (`MailState`),\n  KEY `MailZip` (`MailZip`),\n  KEY `MailZipPlus4` (`MailZipPlus4`),\n  KEY `MailAddress2` (`MailAddress2`),\n  KEY `MailAddress3` (`MailAddress3`),\n  KEY `MailCounty` (`MailCounty`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n\nCREATE TEMPORARY TABLE IF NOT EXISTS `VotersTemp` (\n  `CountyCode` varchar(3) COLLATE utf8_unicode_ci NOT NULL,\n  `RegistrationNbr` varchar(8) COLLATE utf8_unicode_ci NOT NULL,\n  `VoterStatus` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterLastName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterFirstName` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterMiddleMaiden` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameSuffix` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `VoterNameTitle` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResCityName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MidrFlag` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PollWorker` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionCode` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `TransactionYearMonth` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler1` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateOfBirth` date DEFAULT NULL,\n  `RegistrationDate` date DEFAULT NULL,\n  `Race` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Gender` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Absentee` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LandLot` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `OriginalRegDate` date DEFAULT NULL,\n  `StatusReason` varchar(9) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler2` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityPrecinctId` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CongressionalDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SenateDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `HouseDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `JudicialDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CommDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `SchoolDistrict` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CountyDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalName` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MunicipalCode` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncilName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `WardCityCouncil` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDistName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CitySchoolDist` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistAValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistBValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistCValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDName` varchar(13) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CityDistDValue` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateLastVotedDate` date DEFAULT NULL,\n  `TypeOfElection` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `PartyLastVoted` varchar(1) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `LastContactDate` date DEFAULT NULL,\n  `MailHouseNbr` varchar(6) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetName` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailStreetSuffix` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAptUnitNbr` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCity` varchar(17) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailState` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZip` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailZipPlus4` varchar(4) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `Filler3` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress2` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailAddress3` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailCounty` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `DateAdded` date DEFAULT NULL,\n  `DateChanged` date DEFAULT NULL,\n  `DistrictCombo` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ResBuilding` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `MailRRPOBox` varchar(8) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `CombinedStreetAddr` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,\n  `ExportDate` date NOT NULL,\n  PRIMARY KEY (`CountyCode`,`RegistrationNbr`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nLOAD DATA LOCAL INFILE '${importFile}'\nINTO TABLE `VotersTemp`\nLINES TERMINATED BY '\\\\n'\n( @var1 )\n  SET `CountyCode`=TRIM(SUBSTR(@var1,1,3)),\n  `RegistrationNbr`=TRIM(SUBSTR(@var1,4,8)),\n  `VoterStatus`=TRIM(SUBSTR(@var1,12,1)),\n  `VoterLastName`=TRIM(SUBSTR(@var1,13,20)),\n  `VoterFirstName`=TRIM(SUBSTR(@var1,33,20)),\n  `VoterMiddleMaiden`=TRIM(SUBSTR(@var1,53,20)),\n  `VoterNameSuffix`=TRIM(SUBSTR(@var1,73,3)),\n  `VoterNameTitle`=TRIM(SUBSTR(@var1,76,3)),\n  `ResHouseNbr`=TRIM(SUBSTR(@var1,79,6)),\n  `ResStreetName`=TRIM(SUBSTR(@var1,85,30)),\n  `ResStreetSuffix`=TRIM(SUBSTR(@var1,115,2)),\n  `ResAptUnitNbr`=TRIM(SUBSTR(@var1,117,8)),\n  `ResCityName`=TRIM(SUBSTR(@var1,125,17)),\n  `ResZip`=TRIM(SUBSTR(@var1,142,5)),\n  `ResZipPlus4`=TRIM(SUBSTR(@var1,147,4)),\n  `MidrFlag`=TRIM(SUBSTR(@var1,151,1)),\n  `PollWorker`=TRIM(SUBSTR(@var1,152,1)),\n  `TransactionCode`=TRIM(SUBSTR(@var1,153,1)),\n  `TransactionYearMonth`=TRIM(SUBSTR(@var1,154,6)),\n  `Filler1`=TRIM(SUBSTR(@var1,160,2)),\n  `DateOfBirth`=STR_TO_DATE(SUBSTR(@var1,162,8),'%Y%m%d'),\n  `RegistrationDate`=STR_TO_DATE(SUBSTR(@var1,170,8),'%Y%m%d'),\n  `Race`=TRIM(SUBSTR(@var1,178,1)),\n  `Gender`=TRIM(SUBSTR(@var1,179,1)),\n  `Absentee`=TRIM(SUBSTR(@var1,180,1)),\n  `LandDistrict`=TRIM(SUBSTR(@var1,181,3)),\n  `LandLot`=TRIM(SUBSTR(@var1,184,4)),\n  `OriginalRegDate`=STR_TO_DATE(SUBSTR(@var1,188,8),'%Y%m%d'),\n  `StatusReason`=TRIM(SUBSTR(@var1,196,9)),\n  `Filler2`=TRIM(SUBSTR(@var1,205,5)),\n  `CountyPrecinctId`=TRIM(SUBSTR(@var1,210,5)),\n  `CityPrecinctId`=TRIM(SUBSTR(@var1,215,5)),\n  `CongressionalDistrict`=TRIM(SUBSTR(@var1,220,3)),\n  `SenateDistrict`=TRIM(SUBSTR(@var1,223,3)),\n  `HouseDistrict`=TRIM(SUBSTR(@var1,226,3)),\n  `JudicialDistrict`=TRIM(SUBSTR(@var1,229,3)),\n  `CommDistrict`=TRIM(SUBSTR(@var1,232,3)),\n  `SchoolDistrict`=TRIM(SUBSTR(@var1,235,3)),\n  `CountyDistAName`=TRIM(SUBSTR(@var1,238,13)),\n  `CountyDistAValue`=TRIM(SUBSTR(@var1,251,3)),\n  `CountyDistBName`=TRIM(SUBSTR(@var1,254,13)),\n  `CountyDistBValue`=TRIM(SUBSTR(@var1,267,3)),\n  `MunicipalName`=TRIM(SUBSTR(@var1,270,17)),\n  `MunicipalCode`=TRIM(SUBSTR(@var1,287,3)),\n  `WardCityCouncilName`=TRIM(SUBSTR(@var1,290,13)),\n  `WardCityCouncil`=TRIM(SUBSTR(@var1,303,3)),\n  `CitySchoolDistName`=TRIM(SUBSTR(@var1,306,13)),\n  `CitySchoolDist`=TRIM(SUBSTR(@var1,319,3)),\n  `CityDistAName`=TRIM(SUBSTR(@var1,322,13)),\n  `CityDistAValue`=TRIM(SUBSTR(@var1,335,3)),\n  `CityDistBName`=TRIM(SUBSTR(@var1,338,13)),\n  `CityDistBValue`=TRIM(SUBSTR(@var1,351,3)),\n  `CityDistCName`=TRIM(SUBSTR(@var1,354,13)),\n  `CityDistCValue`=TRIM(SUBSTR(@var1,367,3)),\n  `CityDistDName`=TRIM(SUBSTR(@var1,370,13)),\n  `CityDistDValue`=TRIM(SUBSTR(@var1,383,3)),\n  `DateLastVotedDate`=STR_TO_DATE(SUBSTR(@var1,386,8),'%Y%m%d'),\n  `TypeOfElection`=TRIM(SUBSTR(@var1,394,3)),\n  `PartyLastVoted`=TRIM(SUBSTR(@var1,397,1)),\n  `LastContactDate`=STR_TO_DATE(SUBSTR(@var1,398,8),'%Y%m%d'),\n  `MailHouseNbr`=TRIM(SUBSTR(@var1,406,6)),\n  `MailStreetName`=TRIM(SUBSTR(@var1,412,30)),\n  `MailStreetSuffix`=TRIM(SUBSTR(@var1,442,2)),\n  `MailAptUnitNbr`=TRIM(SUBSTR(@var1,444,8)),\n  `MailCity`=TRIM(SUBSTR(@var1,452,17)),\n  `MailState`=TRIM(SUBSTR(@var1,469,2)),\n  `MailZip`=TRIM(SUBSTR(@var1,471,5)),\n  `MailZipPlus4`=TRIM(SUBSTR(@var1,476,4)),\n  `Filler3`=TRIM(SUBSTR(@var1,480,2)),\n  `MailAddress2`=TRIM(SUBSTR(@var1,482,30)),\n  `MailAddress3`=TRIM(SUBSTR(@var1,512,30)),\n  `MailCounty`=TRIM(SUBSTR(@var1,542,20)),\n  `DateAdded`=STR_TO_DATE(SUBSTR(@var1,562,8),'%Y%m%d'),\n  `DateChanged`=STR_TO_DATE(SUBSTR(@var1,570,8),'%Y%m%d'),\n  `DistrictCombo`=TRIM(SUBSTR(@var1,578,3)),\n  `ResBuilding`=TRIM(SUBSTR(@var1,581,3)),\n  `MailRRPOBox`=TRIM(SUBSTR(@var1,584,8)),\n  `CombinedStreetAddr`=TRIM(SUBSTR(@var1,592,60)),\n  `ExportDate`=STR_TO_DATE('${snapshotDate}','%Y%m%d');\n\n-- CREATE TABLE gpga.Voters SELECT * FROM VotersTemp;\n\nINSERT INTO gpga.Voters SELECT * FROM VotersTemp;\n\nDROP TEMPORARY TABLE IF EXISTS VotersTemp;\n",
            "name": "ImportGAfromText",
            "class": "edu.usf.RuleChains.SQLQuery",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 5,
            "rule": "println \"Deleting the import file: ${row.importFile}\"\n(new File(row.importFile.toString())).delete()\nreturn [ row ]",
            "name": "RemoveGATempText",
            "class": "edu.usf.RuleChains.Groovy",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         },
         {
            "id": 13,
            "rule": "REPLACE INTO `Voters` SELECT * FROM `Voters_import`",
            "name": "MergeGAVoters",
            "class": "edu.usf.RuleChains.SQLQuery",
            "ruleSet": {
               "_ref": "../..",
               "class": "edu.usf.RuleChains.RuleSet"
            }
         }
      ]
   }]
}